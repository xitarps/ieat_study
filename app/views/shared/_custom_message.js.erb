div = document.createElement('div')

div.style.width='fit-content'
div.style.blockSize='fit-content'
div.style.backgroundColor='grey'
div.style.color="white"
div.style.textAlign="center"

div.innerHTML = '<%= j render "shared/custom_message.html" %>'

document.querySelector("#custom_messages").classList.remove("invisible")
document.querySelector("#custom_messages").innerHTML = ''
document.querySelector("#custom_messages").appendChild(div)

setTimeout(()=>{
  document.querySelector("#custom_messages").classList.add("invisible");
},2000)
setTimeout(()=>{
  document.querySelector("#custom_messages").innerHTML = ''
},4000)